<!--
	an example of how an iterator could be implemented not as an object but rather
	as a functional construct

	Mark Veltzer <mark@veltzer.net>
-->
<html>
	<head>
		<script>
			function iterate(start,step,stop,fn) {
				for(var i=start;i<stop;i+=step) {
					fn(i);
				}
			}
			iterate(5,2,17,function(i) {
				document.write(i+'<br/>');
			});

			function each(arr,fn) {
				for(var x in arr) {
					var curr=arr[x];
					fn(curr,x);
				}
			}
			each([5,6,7],function(elem,pos) {
				// for lint...
				console.log(pos);
				document.write('element is '+elem+'<br/>');
			});

			function map(arr,fn) {
				var ret=[];
				for(var x in arr) {
					var curr=arr[x];
					if(fn(curr,x)) {
						ret.push(curr);
					}
				}
				return ret;
			}
			document.write(map([1,2,3,4,5,6,7],function(x) { return x%2==1; }));
		</script>
	</head>
</html>
